# 程序设计基础大作业

从头开始学习计算机，发现不知道的东西真的太多了。我在这里记录一下在做这个大作业过程中遇到的坑和相应的知识点。

## 大小端
读入二进制图像后，发现数据不对，检查了半天发现顺序是颠倒的，然后才知道有大小端这个概念。

程序在读入二进制存储到int型的时候，自动转换了大小端。

## 字节对齐
我拿struct去存储读进来的BMP文件头，大小端问题搞明白后，发现读取的数据还是不对，挣扎了半天，才知道有字节对齐这个概念。
结构体里面为了保证读取效率，并不允许所有的地址都可以作为读取地址，因此设定了一定的字节对齐规则。

解决方法有几种，一种是用pragma去设置一些对齐规则，这个比较麻烦我就没有深入研究了。
另一种是发现这里面头文件的规律，除了bfType是两字节外，其余的数据要不然是4字节，要不然是连续偶数个两字节，所以自然满足了对齐的要求。 于是分开读取bfType，以及剩余结构体信息。

## 二进制文件显示
使用hexdump 或者 sublime hexviewer 去把二进制文件显示为16进制格式，方便阅读